<!DOCTYPE html>
<html lang="en"><head><title>LC2K Multi-Cycle Datapath</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira Code&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="LC2K Multi-Cycle Datapath"/><meta property="og:description" content="Related Courses: EECS 370 The idea behind Multi-Cycle processors is that we can break instructions up into several steps, and then execute each step during a clock cycle ..."/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="./static/icon.png"/><meta name="description" content="Related Courses: EECS 370 The idea behind Multi-Cycle processors is that we can break instructions up into several steps, and then execute each step during a clock cycle ..."/><meta name="generator" content="Quartz"/><link href="./index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="./prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("./static/contentIndex.json").then(data => data.json())</script></head><body data-slug="LC2K-Multi-Cycle-Datapath"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title"><a href=".">UMich Course Notes</a></h1><div class="spacer mobile-only"></div><div class="search"><div id="search-icon"><p>Search</p><div></div><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><div class="darkmode"><input class="toggle" id="darkmode-toggle" type="checkbox" tabindex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;cheatsheets&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;classes&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;exams&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;ia-applications&quot;,&quot;collapsed&quot;:true}]"><h1>Explorer</h1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="cheatsheets"><button class="folder-button"><span class="folder-title">cheatsheets</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="cheatsheets"><li><a href="./cheatsheets/EECS-281-Midterm-Cheat-Sheet" data-for="cheatsheets/EECS-281-Midterm-Cheat-Sheet">EECS 281 Midterm Cheat Sheet</a></li><li><a href="./cheatsheets/EECS-370-Midterm-Cheatsheet" data-for="cheatsheets/EECS-370-Midterm-Cheatsheet">EECS 370 Midterm Cheatsheet</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="classes"><button class="folder-button"><span class="folder-title">classes</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="classes"><li><a href="./classes/EECS-281" data-for="classes/EECS-281">Data Structures and Algorithms</a></li><li><a href="./classes/EECS-203" data-for="classes/EECS-203">Discrete Math</a></li><li><a href="./classes/EECS-376" data-for="classes/EECS-376">Foundations of Computer Science</a></li><li><a href="./classes/EECS-370" data-for="classes/EECS-370">Introduction to Computer Organization</a></li><li><a href="./classes/EECS-482" data-for="classes/EECS-482">Introduction to Operating Systems</a></li><li><a href="./classes/EECS-280" data-for="classes/EECS-280">Programming and Data Structures</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="exams"><button class="folder-button"><span class="folder-title">exams</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="exams"><li><a href="./exams/EECS-281-Midterm" data-for="exams/EECS-281-Midterm">EECS 281 Midterm</a></li><li><a href="./exams/EECS-370-Midterm" data-for="exams/EECS-370-Midterm">EECS 370 Midterm</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="ia-applications"><button class="folder-button"><span class="folder-title">ia-applications</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="ia-applications"><li><a href="./ia-applications/EECS-203-IA-Application-Video-Plan" data-for="ia-applications/EECS-203-IA-Application-Video-Plan">EECS 203 IA Application Video Plan</a></li><li><a href="./ia-applications/EECS-281-IA-Application-Video-Plan" data-for="ia-applications/EECS-281-IA-Application-Video-Plan">EECS 281 IA Application Video Plan</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li><li><a href="./Abstract-Data-Type-(ADT)" data-for="Abstract-Data-Type-(ADT)">Abstract Data Type (ADT)</a></li><li><a href="./Big-O-Notation" data-for="Big-O-Notation">Big-O Notation</a></li><li><a href="./Big-Omega" data-for="Big-Omega">Big-Omega</a></li><li><a href="./Caller-Save-vs-Callee-Save" data-for="Caller-Save-vs-Callee-Save">Caller Save vs Callee Save</a></li><li><a href="./Combinational-Logic" data-for="Combinational-Logic">Combinational Logic</a></li><li><a href="./Complexity-Analysis" data-for="Complexity-Analysis">Complexity Analysis</a></li><li><a href="./Deque" data-for="Deque">Deque</a></li><li><a href="./Finite-State-Machine-(FSM)" data-for="Finite-State-Machine-(FSM)">Finite State Machine (FSM)</a></li><li><a href="./Floating-Point-Numbers" data-for="Floating-Point-Numbers">Floating Point Numbers</a></li><li><a href="./Generating-Unique-Identifiers" data-for="Generating-Unique-Identifiers">Generating Unique Identifiers</a></li><li><a href="./Instruction-Set-Architecture-(ISA)" data-for="Instruction-Set-Architecture-(ISA)">Instruction Set Architecture (ISA)</a></li><li><a href="./LC2K" data-for="LC2K">LC2K</a></li><li><a href="./LC2K-Multi-Cycle-Datapath" data-for="LC2K-Multi-Cycle-Datapath">LC2K Multi-Cycle Datapath</a></li><li><a href="./LC2K-Single-Cycle-Datapath" data-for="LC2K-Single-Cycle-Datapath">LC2K Single-Cycle Datapath</a></li><li><a href="./LEGv8" data-for="LEGv8">LEGv8</a></li><li><a href="./Linking" data-for="Linking">Linking</a></li><li><a href="./Number-Bases" data-for="Number-Bases">Number Bases</a></li><li><a href="./Object-Files" data-for="Object-Files">Object Files</a></li><li><a href="./Pipelining" data-for="Pipelining">Pipelining</a></li><li><a href="./Priority-Queue" data-for="Priority-Queue">Priority Queue</a></li><li><a href="./Queue" data-for="Queue">Queue</a></li><li><a href="./Read-Only-Memory-(ROM)" data-for="Read-Only-Memory-(ROM)">Read Only Memory (ROM)</a></li><li><a href="./Registers" data-for="Registers">Registers</a></li><li><a href="./Sequential-Logic" data-for="Sequential-Logic">Sequential Logic</a></li><li><a href="./Stack" data-for="Stack">Stack</a></li><li><a href="./Trends-in-Computing" data-for="Trends-in-Computing">Trends in Computing</a></li><li><a href="./Two's-Complement-Numbers" data-for="Two's-Complement-Numbers">Two's Complement Numbers</a></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="./">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>LC2K Multi-Cycle Datapath</a></div></nav><h1 class="article-title">LC2K Multi-Cycle Datapath</h1><p show-comma="true" class="content-meta"><span>Mar 01, 2024</span><span>4 min read</span></p><ul class="tags"><li><a href="./tags/eecs-370" class="internal tag-link">eecs-370</a></li></ul></div></div><article class="popover-hint"><p>Related Courses: <a href="./classes/EECS-370" class="internal alias" data-slug="classes/EECS-370">EECS 370</a></p>
<p>The idea behind Multi-Cycle processors is that we can break instructions up into several steps, and then execute each step during a clock cycle. When doing this, now shorter instructions can take less time because they take fewer cycles.</p>
<p>Especially as <a href="./Instruction-Set-Architecture-(ISA)" class="internal alias" data-slug="Instruction-Set-Architecture-(ISA)">ISAs</a> become more complicated (think having a multiply opcode), this becomes a lot more valuable because you can have instructions that take many steps no longer holding back the performance of very simple instructions.</p>
<blockquote>
<p>Note: In <a href="./LC2K" class="internal" data-slug="LC2K">LC2K</a>, you’ll often notice that the performance benefit is not that large (or sometimes even negligible, if not negative). This is because all instructions are relatively tame and simple, so the overhead of a multi-cycle processor is often higher than the benefit that it offers.</p>
</blockquote>
<p><img src="./assets/lc2k-multi-cycle-datapath.png" width="auto" height="auto" alt/></p>
<p>Primary Changes from the <a href="./LC2K-Single-Cycle-Datapath" class="internal alias" data-slug="LC2K-Single-Cycle-Datapath">LC2K Single-Cycle Datapath</a>:</p>
<ul>
<li>Enabling / Disabling the <a href="./Program-Counter" class="internal alias" data-slug="Program-Counter">Program Counter</a></li>
<li>Instruction Register
<ul>
<li>Allows us store the current instruction without having to call from memory</li>
</ul>
</li>
<li>Memory is Consolidated (Proper von Neumann Architecture)</li>
<li>[[Combinational Logic#Arithmetic-Logic Units (ALUs)#ALU<a href="./Combinational-Logic#muxes" class="internal alias" data-slug="Combinational-Logic">Mux</a> Now has 0 and 1 as options as well</li>
<li>ALU Result is stored</li>
</ul>
<h2 id="cycles-per-instruction">Cycles Per Instruction<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#cycles-per-instruction" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>All Instructions have the same first two cycles:</p>
<ul>
<li>Cycle 0: Fetch Cycle
<ul>
<li>This involves reading from the instruction memory and storing the values fetched into the instruction register.</li>
<li>During this cycle, we also calculate <code>PC + 1</code> to use all parts of the processor because otherwise the ALU is not being used</li>
</ul>
</li>
<li>Cycle 1: Decode
<ul>
<li>This involves taking the instruction from the instruction register and loading the relevant values from the Register file (<code>regA</code>, <code>regB</code>) / pass values into the Sign Extender</li>
<li>During this cycle, we set <code>PC</code> to <code>PC + 1</code></li>
</ul>
</li>
</ul>
<h3 id="add--nor-4-cycles">Add / Nor: 4 Cycles<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#add--nor-4-cycles" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>Cycle 3: <code>add/nor</code>
<ul>
<li>Now that we’ve read values from the register file, we can use the ALU to <code>add/nor</code> the values together and store the result in the ALU Result Register</li>
</ul>
</li>
<li>Cycle 4: Store in Register File
<ul>
<li>After we are sure that the ALU Result Register has updated, we can use this result as the input to the register file and store it into <code>destReg</code></li>
</ul>
</li>
</ul>
<h3 id="load-word-5-cycles">Load Word: 5 Cycles<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#load-word-5-cycles" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>Cycle 3: calculate <code>regA + offset</code>
<ul>
<li>Now that we’ve read <code>regA</code> and sign-extended our destination, we can add those together to get the value in memory that we want to read to be able to store back into <code>regB</code></li>
</ul>
</li>
<li>Cycle 4: read <code>regA + offset</code> from memory (get <code>MEM[regA + offset]</code>)
<ul>
<li>Using the ALU result, we can pass that as our source address for memory to read into the “data” register</li>
</ul>
</li>
<li>Cycle 5: store <code>MEM[regA + offset]</code> into <code>regB</code>
<ul>
<li>Now that the data from memory is calculated / stored in a register, we can store it into the register file at <code>regB</code></li>
</ul>
</li>
</ul>
<h3 id="store-word-4-cycles">Store Word: 4 Cycles<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#store-word-4-cycles" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>Cycle 3: calculate <code>regA + offset</code>
<ul>
<li>Now that we’ve read <code>regA</code> and sign-extended our destination, we can add those together to get the value in memory that we want to read to be able to store back into <code>regB</code></li>
<li>Note: we’re still going to want to read <code>regB</code> from the register file during this cycle, because that value will be used in the next cycle to write to memory</li>
</ul>
</li>
<li>Cycle 4: write <code>regB</code> into <code>MEM[regA + offset]</code>
<ul>
<li>Using these calculated values, we can write our desired value into memory</li>
</ul>
</li>
</ul>
<h3 id="beq-4-cycles">BEQ: 4 Cycles<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#beq-4-cycles" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>Cycle 3: calculate <code>beq</code> destination (<code>PC + 1 + offset</code>)
<ul>
<li>Using the value of <code>PC + 1</code> currently stored in <code>PC</code> already, we can add that to the sign extended offset using the <code>ALU</code> to get the potential next destination if the equality holds</li>
</ul>
</li>
<li>Cycle 4: potentially update <code>PC</code>
<ul>
<li>Add an <a href="./Combinational-Logic#and-and-or-gate" class="internal alias" data-slug="Combinational-Logic">OR Gate</a> to the PC-Enable bit: either the PC enable bit is 0, or we’re in State 12 (the state of this current cycle) AND the values in <code>regA</code> and <code>regB</code> are equal (changing the relevant muxes)</li>
</ul>
</li>
</ul>
<h2 id="choosing-which-state-to-transition-to">Choosing Which State to Transition To<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#choosing-which-state-to-transition-to" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>To avoid cluttering our <a href="./Read-Only-Memory-(ROM)" class="internal alias" data-slug="Read-Only-Memory-(ROM)">ROM</a>ROM]] instead that takes in the opcode and calculates the next state.</p>
<p>This will require the use of an <a href="./Combinational-Logic#and-and-or-gate" class="internal alias" data-slug="Combinational-Logic">AND Gate</a>Mux]].</p>
<h2 id="measuring-performance">Measuring Performance<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#measuring-performance" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Measuring performance of a multi-cycle datapath can be done using multiple (equivalent) formulas. Note: all of these depend on the specific distribution of instructions.</p>
<p>The first formula uses <code>CPI</code>, or “cycles-per instruction”. This is the average number of cycles per instruction in a program. The second can easily be obtained using dimensional analysis with the first. <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">CPI</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">count</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Clock Period</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">Cycles</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Clock Period</span></span></span></span></span>, where <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span> is total time and <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">count</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the number of instructions in the program total.</p></article></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><svg version="1.1" id="global-graph-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
	s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
	c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
	C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
	c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
	v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
	s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
	C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
	S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
	s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
	s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content"><ul class="overflow"><li class="depth-0"><a href="#cycles-per-instruction" data-for="cycles-per-instruction">Cycles Per Instruction</a></li><li class="depth-1"><a href="#add--nor-4-cycles" data-for="add--nor-4-cycles">Add / Nor: 4 Cycles</a></li><li class="depth-1"><a href="#load-word-5-cycles" data-for="load-word-5-cycles">Load Word: 5 Cycles</a></li><li class="depth-1"><a href="#store-word-4-cycles" data-for="store-word-4-cycles">Store Word: 4 Cycles</a></li><li class="depth-1"><a href="#beq-4-cycles" data-for="beq-4-cycles">BEQ: 4 Cycles</a></li><li class="depth-0"><a href="#choosing-which-state-to-transition-to" data-for="choosing-which-state-to-transition-to">Choosing Which State to Transition To</a></li><li class="depth-0"><a href="#measuring-performance" data-for="measuring-performance">Measuring Performance</a></li></ul></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li><a href="./LC2K-Single-Cycle-Datapath" class="internal">LC2K Single-Cycle Datapath</a></li><li><a href="./Pipelining" class="internal">Pipelining</a></li><li><a href="./Sequential-Logic" class="internal">Sequential Logic</a></li><li><a href="./cheatsheets/EECS-370-Midterm-Cheatsheet" class="internal">EECS 370 Midterm Cheatsheet</a></li><li><a href="./exams/EECS-370-Midterm" class="internal">EECS 370 Midterm</a></li></ul></div></div></div><footer class><hr/><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v0.0.1</a> © 2024</p><ul><li><a href="https://github.com/bansalsh-umich/course-notes">GitHub</a></li></ul></footer></div></body><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script type="module">
          let mermaidImport = undefined
          document.addEventListener('nav', async () => {
            if (document.querySelector("code.mermaid")) {
              mermaidImport ||= await import('https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.7.0/mermaid.esm.min.mjs')
              const mermaid = mermaidImport.default
              const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
              mermaid.initialize({
                startOnLoad: false,
                securityLevel: 'loose',
                theme: darkMode ? 'dark' : 'default'
              })

              await mermaid.run({
                querySelector: '.mermaid'
              })
            }
          });
          </script><script type="application/javascript">
            const socket = new WebSocket('ws://localhost:3001')
            // reload(true) ensures resources like images and scripts are fetched again in firefox
            socket.addEventListener('message', () => document.location.reload(true))
          </script><script src="./postscript.js" type="module"></script></html>